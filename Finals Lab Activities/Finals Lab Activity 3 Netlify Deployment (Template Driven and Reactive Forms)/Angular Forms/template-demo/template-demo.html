<div class="form-wrapper">
  <div class="form-card">

    <div class="form-header">
      <h2>{{ title }}</h2>
      <p>Fill in your details below</p>
    </div>

    @if (submitted) {
      <div class="success-banner">
        âœ… Form submitted successfully!
      </div>
    }

    @if (!submitted) {
      <form (ngSubmit)="onSubmit()" #myForm="ngForm">

        <!-- Username -->
        <div class="field-group">
          <input
            class="input-box"
            type="text"
            name="username"
            [(ngModel)]="username"
            placeholder="Enter username"
            required
            minlength="3"
            #usernameField="ngModel">
          @if (usernameField.invalid && usernameField.touched) {
            <span class="error-msg">Username is required (min 3 characters).</span>
          }
        </div>

        <!-- Email -->
        <div class="field-group">
          <input
            class="input-box"
            type="email"
            name="email"
            [(ngModel)]="email"
            placeholder="Enter email"
            required
            email
            #emailField="ngModel">
          @if (emailField.invalid && emailField.touched) {
            <span class="error-msg">A valid email address is required.</span>
          }
        </div>

        <!-- Password -->
        <div class="field-group">
          <input
            class="input-box"
            type="password"
            name="password"
            [(ngModel)]="password"
            placeholder="Enter password"
            required
            minlength="6"
            #passwordField="ngModel">
          @if (passwordField.invalid && passwordField.touched) {
            <span class="error-msg">Password must be at least 6 characters.</span>
          }
        </div>

        <!-- Role -->
        <div class="field-group">
          <select
            class="input-box"
            name="role"
            [(ngModel)]="role"
            required
            #roleField="ngModel">
            <option value="" disabled selected>Select role</option>
            <option value="admin">Admin</option>
            <option value="user">User</option>
            <option value="guest">Guest</option>
          </select>
          @if (roleField.invalid && roleField.touched) {
            <span class="error-msg">Please select a role.</span>
          }
        </div>

        <!-- Gender (Radio Buttons) -->
        <div class="field-group">
          <label class="field-label">Gender</label>
          <div class="radio-group">
            <label class="radio-option">
              <input
                type="radio"
                name="gender"
                [(ngModel)]="gender"
                value="male"
                required>
              <span>Male</span>
            </label>
            <label class="radio-option">
              <input
                type="radio"
                name="gender"
                [(ngModel)]="gender"
                value="female"
                required>
              <span>Female</span>
            </label>
            <label class="radio-option">
              <input
                type="radio"
                name="gender"
                [(ngModel)]="gender"
                value="other"
                required>
              <span>Other</span>
            </label>
          </div>
          @if (!gender && myForm.submitted) {
            <span class="error-msg">Please select a gender.</span>
          }
        </div>

        <!-- Status -->
        <div class="field-group">
          <select
            class="input-box"
            name="status"
            [(ngModel)]="status"
            required
            #statusField="ngModel">
            <option value="" disabled selected>Select status</option>
            <option value="permanent">Permanent</option>
            <option value="probationary">Probationary</option>
          </select>
          @if (statusField.invalid && statusField.touched) {
            <span class="error-msg">Please select a status.</span>
          }
        </div>

        <!-- Comments -->
        <div class="field-group">
          <textarea
            class="input-box textarea"
            name="comments"
            [(ngModel)]="comments"
            placeholder="Enter comments or notes"
            rows="4">
          </textarea>
        </div>

        <!-- Submit -->
        <input
          class="btn"
          type="submit"
          value="Submit"
          [disabled]="!myForm.valid">

      </form>
    }

  </div>
</div>
